[
  {
    "annotations": {
      "title": "Nodes: Debug Exec",
      "readOnlyHint": false,
      "destructiveHint": true,
      "idempotentHint": false,
      "openWorldHint": true
    },
    "description": "Run commands on an OpenShift node using a privileged debug pod with comprehensive troubleshooting utilities. The debug pod uses the UBI9 toolbox image which includes: systemd tools (systemctl, journalctl), networking tools (ss, ip, ping, traceroute, nmap), process tools (ps, top, lsof, strace), file system tools (find, tar, rsync), and debugging tools (gdb). Commands execute in a chroot of the host filesystem, providing full access to node-level diagnostics. Output is truncated to the most recent 100 lines, so prefer filters like grep when expecting large logs.",
    "inputSchema": {
      "type": "object",
      "properties": {
        "node": {
          "description": "Name of the node to debug (e.g. worker-0).",
          "type": "string"
        },
        "command": {
          "description": "Command to execute on the node via chroot. All standard debugging utilities are available including systemctl, journalctl, ss, ip, ping, traceroute, nmap, ps, top, lsof, strace, find, tar, rsync, gdb, and more. Provide each argument as a separate array item (e.g. ['systemctl', 'status', 'kubelet'] or ['journalctl', '-u', 'kubelet', '--since', '1 hour ago']).",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "namespace": {
          "description": "Namespace to create the temporary debug pod in (optional, defaults to the current namespace or 'default').",
          "type": "string"
        },
        "image": {
          "description": "Container image to use for the debug pod (optional). Defaults to registry.access.redhat.com/ubi9/toolbox:latest which provides comprehensive debugging and troubleshooting utilities.",
          "type": "string"
        },
        "timeout_seconds": {
          "description": "Maximum time to wait for the command to complete before timing out (optional, defaults to 60 seconds).",
          "minimum": 1,
          "type": "integer"
        }
      },
      "required": [
        "node",
        "command"
      ]
    },
    "name": "nodes_debug_exec"
  }
]

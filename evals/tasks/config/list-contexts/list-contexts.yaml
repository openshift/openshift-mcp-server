kind: Task
apiVersion: mcpchecker/v1alpha2
metadata:
  name: "list-contexts"
  difficulty: easy
spec:
  requires:
    - extension: kubernetes

  setup:
    # No setup needed - working with existing kubeconfig

  verify:
    - kubernetes.listContexts:
        # This operation lists all contexts and returns:
        # - current: name of current context
        # - count: number of contexts found
        # Will fail if no contexts exist

    - llmJudge:
        contains: "{steps.kubernetes.listContexts.count} context"
        # Validates the agent mentioned the actual count from the extension
        # Template expands to e.g., "1 context" or "3 contexts"

  cleanup:
    # No cleanup needed - read-only operation

  prompt:
    inline: Show me all available Kubernetes contexts

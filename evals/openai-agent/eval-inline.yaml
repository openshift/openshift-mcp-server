kind: Eval
metadata:
  name: "openai-agent-kubernetes-test"
config:
  # Inline agent configuration - no separate agent.yaml file needed
  agent:
    type: "builtin.openai-agent"
    model: "gpt-4"  # Change to your model
  # Before running, set environment variables:
  #   export MODEL_BASE_URL="https://api.openai.com/v1"
  #   export MODEL_KEY="sk-..."
  mcpConfigFile: ../mcp-config.yaml
  llmJudge:
    env:
      baseUrlKey: JUDGE_BASE_URL
      apiKeyKey: JUDGE_API_KEY
      modelNameKey: JUDGE_MODEL_NAME
  taskSets:
    - glob: ../tasks/*/*.yaml
      assertions:
        toolsUsed:
          - server: kubernetes
            toolPattern: ".*"
        minToolCalls: 1
        maxToolCalls: 20
